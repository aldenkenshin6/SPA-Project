@page "/Admin/Customers-Management"
@using SPA1.Services
@using SPA1.Components.Layout
@layout MainLayout
@inject UserSession Session
@inject NavigationManager Navigation



<div class="dashboard-container">
    <!-- Sidebar Kupal -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <img src="images/LOGO2.png" class="logo" alt="Logo" />
            <h2>Spa Management</h2>
            <p>Wellness & Beauty Center</p>
            <nav class="nav-links">
                <a href="#" @onclick="Dashboard"><i class="ri-dashboard-line"></i> Dashboard</a>
                <a href="#" class="active"><i class="ri-user-3-line"></i> Customers</a>
                <a href="#" @onclick="Appointment"><i class="ri-calendar-line"></i> Appointment</a>
                <a href="#" @onclick="Services"><i class="ri-service-line"></i> Services</a>
                <a href="#" @onclick="Employee"><i class="ri-team-line"></i> Employees</a>
                <a href="#" @onclick="Payments"><i class="ri-wallet-line"></i> Payments</a>
            </nav>
        </div>

        <div class="sidebar-footer">
            <div class="AdminUser">
                <i class="ri-user-line"></i>
                <div class="Labels">
                    <label class="Admin-title">Admin User</label>
                    <label class="Session-Username">@Session.Email</label>
                </div>
            </div>
            <i id="Logout" title="Logout" @onclick="Logout" class="ri-logout-box-line"></i>
        </div>
    </aside>


    <div class="dashboard-main">
        <div class="dashboard-header">
            <div class="title-group">
                <h2>Customer Management</h2>
                <p>Manage your spa customers</p>
            </div>
            <button class="btn-add">Add Customer</button>
        </div>

        <div class="customer-section">
            <!-- Left table akoang kamot nga sakit I lU2 -->
            <div class="customer-table card">
                <div class="table-header">
                    <input type="text" class="search-box" placeholder="🔍 Search customers.." />
                </div>

                <table>
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Contact</th>
                            <th>Age</th>
                            <th>Gender</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Kaye Ashley Mizal</td>
                            <td>k.a.m@email.com</td>
                            <td>(555) 123-4567</td>
                            <td>16</td>
                            <td>Girl</td>
                            <td class="actions">
                                <button class="btn-edit"><i class="ri-edit-line"></i></button>
                                <button class="btn-delete"><i class="ri-delete-bin-line"></i></button>
                            </td>
                        </tr>
                        <tr>
                            <td>Liam E. Bayot</td>
                            <td>l.b@email.com</td>
                            <td>(555) 123-4567</td>
                            <td>21</td>
                            <td>Girl</td>
                            <td class="actions">
                                <button class="btn-edit"><i class="ri-edit-line"></i></button>
                                <button class="btn-delete"><i class="ri-delete-bin-line"></i></button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Right Form ni Cell kalaban ni Goku -->
            <div class="customer-form card">
                <h3>New Customer</h3>

                <div class="form-group">
                    <label>Full Name</label>
                    <input type="text" />
                </div>
                <div class="form-group">
                    <label>Email Address</label>
                    <input type="email" />
                </div>
                <div class="form-group">
                    <label>Phone Number</label>
                    <input type="text" />
                </div>
                <div class="form-group">
                    <label>Age</label>
                    <input type="number" />
                </div>
                <div class="form-group">
                    <label>Gender</label>
                    <input type="text" />
                </div>

                <div class="form-buttons">
                    <button class="btn-save">Save</button>
                    <button class="btn-cancel">Cancel</button>
                </div>
            </div>
        </div>
    </div>
</div>

@if (isLoading)
{
    <div class="loading-overlay">
        <img src="images/LOGO2.png" class="spinner" alt="LOGO">
        <p>Logging out, please wait...</p>
    </div>
}

@code{
    private bool isLoading = false;

    private async Task Logout()
    {
        isLoading = true;
        StateHasChanged();

        await Task.Delay(800);

        Session.Logout();
        Navigation.NavigateTo("/auth/login");
    }

    private void Dashboard()
    {
        Navigation.NavigateTo("/Admin/Dashboard");
    }
    private void Appointment()
    {
        Navigation.NavigateTo("/Admin/Appointments");
    }

    private void Services()
    {
        Navigation.NavigateTo("/Admin/Services");
    }
    private void Employee()
    {
        Navigation.NavigateTo("/Admin/Employees");
    }
    private void Payments()
    {
        Navigation.NavigateTo("/Admin/Payments");
    }
}